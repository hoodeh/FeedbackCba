@model FeedbackCba.Core.ViewModel.FeedbackViewModel

@{
    Layout = "";
}

<script src="https://code.jquery.com/jquery-3.3.1.min.js" ></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" ></script>
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.0.js"></script>
<script src="http://localhost:59955/Scripts/custom/app.js"></script>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" href="http://localhost:59955/Content/Site.css">

<style>
    
    #feedback.menu {
        position: fixed;
        bottom: 0;
        right: 0;
    }

    #feedback-header {
        padding: 10px;
    }

    #feedback-header:hover {
        cursor: pointer;
    }
</style>
@*@{ Ajax.BeginForm("", "",
       new AjaxOptions
       {
           HttpMethod = "POST",
           Url = "http://localhost:59955/Home/_AjaxUpdateFeedback",
           OnSuccess = "updateFeedbackOnSuccess",
           OnBegin = "updateFeedbackOnBegin",
           OnComplete = "updateFeedbackOnComplete",
           OnFailure = "updateFeedbackOnFailure",
       },
       new { id = "form-update-feedback", name = "form-update-feedback" });
}*@
<form id="form-update-feedback">
    @Html.HiddenFor(m => m.CustomerId)
    @Html.HiddenFor(m => m.UserId)
    @Html.HiddenFor(m => m.IsMainPage)
    @Html.HiddenFor(m => m.PageUrl)
    @Html.HiddenFor(m => m.Rate)
    @Html.HiddenFor(m => m.QuestionId)
    <div id="feedback" class="menu">
        <div id="feedback-header" style="background-color:@Model.BgColor;">
            FEEDBACK
        </div>
        <div id="feedback-form" class="hidden">
            @Html.Label(Model.MainQuestion)
            <div id="star-rating">
                @{
                    for (var i = 1; i <= 10; i++)
                    {
                        <span class="rate-star star-fade" data-val="@i"></span>
                    }
                }
            </div>
            <div id="follow-up-question">
                <div id="question" class="form-group">
                    @{
                        foreach (var question in Model.Questions)
                        {
                            <label class="question" data-id="@question.Id" data-from-rate="@question.FromRate" data-to-rate="@question.ToRate">
                                @question.Text
                            </label>
                        }
                    }
                    @Html.TextAreaFor(m => m.UserReply, new { @class = "form-control" })
                </div>
                <button id="feedback-submit-btn" type="button" class="btn btn-default btn-sm">Submit</button>
            </div>
        </div>
    </div>
</form>
@*@{
    Html.EndForm();
}*@

<script type="text/javascript">
    $(function() {
        Feedback.init();
    });
</script>